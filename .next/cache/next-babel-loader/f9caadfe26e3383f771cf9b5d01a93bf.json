{"ast":null,"code":"import { Machine } from 'xstate';\nvar defaultFilter = {\n  brand: '',\n  color: '',\n  minYear: '',\n  maxYear: '',\n  minPrice: '',\n  maxPrice: '',\n  searchText: ''\n};\nexport var carMachine = Machine({\n  id: 'filter',\n  initial: 'initial',\n  context: {\n    filter: defaultFilter,\n    open: false,\n    text: '',\n    handler: function handler() {},\n    push: function push() {},\n    id: '',\n    loading: true,\n    currentPage: 1\n  },\n  states: {\n    initial: {\n      on: {\n        SHOW: {\n          target: 'show',\n          actions: ['showDialog']\n        },\n        ADD_BRAND: {\n          target: 'initial',\n          actions: ['addBrandToStore']\n        },\n        ADD_COLOR: {\n          target: 'initial',\n          actions: ['addColorToStore']\n        },\n        ADD_MINYEAR: {\n          target: 'initial',\n          actions: ['addMinYearToStore']\n        },\n        ADD_MAXYEAR: {\n          target: 'initial',\n          actions: ['addMaxYearToStore']\n        },\n        ADD_MINPRICE: {\n          target: 'initial',\n          actions: ['addMinPriceToStore']\n        },\n        ADD_MAXPRICE: {\n          target: 'initial',\n          actions: ['addMaxPriceToStore']\n        },\n        ADD_SEARCH_TEXT: {\n          target: 'initial',\n          actions: ['addSearchText']\n        },\n        CLEAR_FILTER: {\n          target: 'initial',\n          actions: ['clearFilter']\n        },\n        SET_FILTERS: {\n          target: 'initial',\n          actions: ['setAllFilters', 'setCurrentPage']\n        },\n        SET_LOADING: {\n          target: 'initial',\n          actions: ['setLoading']\n        },\n        SET_CURRENT_PAGE: {\n          target: 'initial',\n          actions: ['setCurrentPage']\n        }\n      }\n    },\n    show: {\n      on: {\n        DELETE: {\n          target: 'initial',\n          actions: ['runHandler', 'hideDialog', 'clearData', 'push']\n        },\n        CANCEL: {\n          target: 'initial',\n          actions: ['hideDialog', 'clearData']\n        }\n      }\n    }\n  }\n}, {\n  actions: {\n    showDialog: function showDialog(ctx, evt) {\n      ctx.text = evt.text;\n      ctx.open = true;\n      ctx.handler = evt.handler;\n      ctx.push = evt.push;\n    },\n    hideDialog: function hideDialog(ctx) {\n      ctx.open = false;\n    },\n    runHandler: function runHandler(ctx) {\n      ctx.handler();\n    },\n    clearData: function clearData(ctx) {\n      ctx.text = '';\n\n      ctx.handler = function () {};\n    },\n    clearFilter: function clearFilter(ctx) {\n      ctx.filter = {\n        brand: '',\n        color: '',\n        maxPrice: '',\n        maxYear: '',\n        minPrice: '',\n        minYear: '',\n        searchText: ''\n      };\n      ctx.currentPage = 1;\n    },\n    push: function push(ctx) {\n      return ctx.push();\n    },\n    addBrandToStore: function addBrandToStore(ctx, evt) {\n      return ctx.filter.brand = evt.brand;\n    },\n    addColorToStore: function addColorToStore(ctx, evt) {\n      return ctx.filter.color = evt.color;\n    },\n    addYearToStore: function addYearToStore(ctx, evt) {\n      return ctx.filter.year = evt.year;\n    },\n    addMinYearToStore: function addMinYearToStore(ctx, evt) {\n      return ctx.filter.minYear = evt.minYear;\n    },\n    addMaxYearToStore: function addMaxYearToStore(ctx, evt) {\n      return ctx.filter.maxYear = evt.maxYear;\n    },\n    addMinPriceToStore: function addMinPriceToStore(ctx, evt) {\n      return ctx.filter.minPrice = evt.minPrice;\n    },\n    addMaxPriceToStore: function addMaxPriceToStore(ctx, evt) {\n      return ctx.filter.maxPrice = evt.maxPrice;\n    },\n    addSearchText: function addSearchText(ctx, evt) {\n      return ctx.filter.searchText = evt.searchText;\n    },\n    setAllFilters: function setAllFilters(ctx, evt) {\n      ctx.filter = evt.filter;\n      ctx.currentPage = evt.currentPage;\n    },\n    setLoading: function setLoading(ctx, evt) {\n      return ctx.loading = evt.loading;\n    },\n    setCurrentPage: function setCurrentPage(ctx, evt) {\n      return ctx.currentPage = evt.currentPage;\n    }\n  }\n});","map":null,"metadata":{},"sourceType":"module"}