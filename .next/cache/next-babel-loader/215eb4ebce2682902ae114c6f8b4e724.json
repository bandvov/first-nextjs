{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport { useContext, useEffect } from 'react';\nimport Router from 'next/router';\nimport Link from 'next/link';\nimport Typography from '@material-ui/core/Typography';\nimport { useStyles } from './car-details.styles';\nimport { MainContext } from '../../context/mainContext';\nimport { deleteCar } from '../../operations/car-operations';\nimport CustomCircularProgress from '../circularProgress/circularProgress';\nexport default function CarDetails({\n  car\n}) {\n  const {\n    photo,\n    _id\n  } = car,\n        carDetails = _objectWithoutProperties(car, [\"photo\", \"_id\"]);\n\n  const classes = useStyles();\n  const {\n    state,\n    send\n  } = useContext(MainContext);\n  useEffect(() => {\n    send({\n      type: 'SET_LOADING',\n      loading: false\n    });\n  }, [car]);\n\n  const deleteHandler = () => {\n    send({\n      type: 'SHOW',\n      text: 'Are you sure you want to delete the car?',\n      handler: () => deleteCar(_id),\n      push: () => Router.push('/')\n    });\n  };\n\n  const carEntries = Object.entries(carDetails);\n  const mappedCarDetails = carEntries.map(detail => /*#__PURE__*/_jsx(\"li\", {\n    children: /*#__PURE__*/_jsxs(Typography, {\n      gutterBottom: true,\n      variant: \"subtitle1\",\n      children: [/*#__PURE__*/_jsxs(\"b\", {\n        children: [detail[0], \": \"]\n      }), detail[1]]\n    })\n  }, detail));\n  return state.context.loading ? /*#__PURE__*/_jsx(CustomCircularProgress, {}) : /*#__PURE__*/_jsxs(Paper, {\n    elevation: 10,\n    className: classes.root,\n    children: [/*#__PURE__*/_jsx(Typography, {\n      className: classes.image,\n      children: /*#__PURE__*/_jsx(\"img\", {\n        alt: `${carDetails.brand} ${carDetails.model} ${carDetails.year}`,\n        className: classes.img,\n        src: photo\n      })\n    }), /*#__PURE__*/_jsxs(Typography, {\n      component: \"div\",\n      className: classes.text,\n      children: [/*#__PURE__*/_jsx(Typography, {\n        children: mappedCarDetails\n      }), /*#__PURE__*/_jsxs(Typography, {\n        className: classes.deleteButton,\n        children: [/*#__PURE__*/_jsx(Link, {\n          href: `/car/edit/${_id}`,\n          children: /*#__PURE__*/_jsx(Button, {\n            \"aria-label\": \"edit car\",\n            variant: \"outlined\",\n            children: \"edit\"\n          })\n        }), /*#__PURE__*/_jsx(Button, {\n          \"aria-label\": \"delete car\",\n          type: \"button\",\n          onClick: deleteHandler,\n          variant: \"contained\",\n          children: \"delete\"\n        })]\n      })]\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}