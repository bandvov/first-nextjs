{"ast":null,"code":"import { gql } from 'apollo-boost';\nimport { client } from '../utils/client';\nexport const getAllCars = async (skip, limit) => {\n  const res = await client.query({\n    query: gql`\n      query($skip: Int, $limit: Int) {\n        getAllCars(skip: $skip, limit: $limit) {\n          cars {\n            _id\n            brand\n            model\n            photo\n            price\n            year\n            mileage\n          }\n          count\n        }\n      }\n    `,\n    variables: {\n      skip,\n      limit\n    }\n  });\n  client.resetStore();\n  return res.data.getAllCars;\n};\nexport const getCarsId = async () => {\n  const res = await client.query({\n    query: gql`\n      query {\n        getAllCars {\n          cars {\n            _id\n          }\n        }\n      }\n    `,\n    fetchPolicy: 'no-cache'\n  });\n  client.resetStore();\n  return res.data.getAllCars.cars;\n};\nexport const getCarById = async id => {\n  const res = await client.query({\n    query: gql`\n      query($id: ID!) {\n        getCarById(id: $id) {\n          _id\n          brand\n          model\n          category\n          date\n          price\n          year\n          mileage\n          transmission\n          externalColor\n          photo\n          engine\n          colorSimpleName\n          description\n        }\n      }\n    `,\n    variables: {\n      id\n    }\n  });\n  return res.data.getCarById;\n};\nexport const addCar = async car => {\n  car.price = +car.price;\n  car.year = +car.year;\n  car.mileage = +car.mileage;\n  const res = await client.mutate({\n    mutation: gql`\n      mutation($car: CarInput!) {\n        addCar(car: $car) {\n          _id\n        }\n      }\n    `,\n    variables: {\n      car\n    }\n  });\n  return res.data.addCar;\n};\nexport const updateCar = async ({\n  id,\n  car\n}) => {\n  car.price = +car.price;\n  car.year = +car.year;\n  car.mileage = +car.mileage;\n  const res = await client.mutate({\n    mutation: gql`\n      mutation($id: ID!, $car: CarInput!) {\n        updateCar(id: $id, car: $car) {\n          _id\n        }\n      }\n    `,\n    variables: {\n      id,\n      car\n    }\n  });\n  return res.data.updateCar;\n};\nexport const deleteCar = async id => {\n  const res = await client.mutate({\n    mutation: gql`\n      mutation($id: ID!) {\n        deleteCar(id: $id) {\n          _id\n        }\n      }\n    `,\n    variables: {\n      id\n    }\n  });\n  return res.data.deleteCar;\n};\nexport const getFilteredCars = async (filter, skip, limit) => {\n  const res = await client.query({\n    query: gql`\n      query($filter: FilterInput, $skip: Int, $limit: Int) {\n        getFilteredCars(filter: $filter, skip: $skip, limit: $limit) {\n          cars {\n            _id\n            brand\n            model\n            photo\n            price\n            year\n            mileage\n          }\n          count\n        }\n      }\n    `,\n    variables: {\n      filter,\n      skip,\n      limit\n    }\n  });\n  return {\n    cars: res.data.getFilteredCars.cars,\n    count: res.data.getFilteredCars.count\n  };\n};","map":{"version":3,"sources":["C:/Users/Admin/Desktop/VS Code project/NEXTJS/first-nextjs/operations/car-operations.js"],"names":["gql","client","getAllCars","skip","limit","res","query","variables","resetStore","data","getCarsId","fetchPolicy","cars","getCarById","id","addCar","car","price","year","mileage","mutate","mutation","updateCar","deleteCar","getFilteredCars","filter","count"],"mappings":"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","sourcesContent":["import { gql } from 'apollo-boost';\r\nimport { client } from '../utils/client';\r\n\r\nexport const getAllCars = async (skip, limit) => {\r\n  const res = await client.query({\r\n    query: gql`\r\n      query($skip: Int, $limit: Int) {\r\n        getAllCars(skip: $skip, limit: $limit) {\r\n          cars {\r\n            _id\r\n            brand\r\n            model\r\n            photo\r\n            price\r\n            year\r\n            mileage\r\n          }\r\n          count\r\n        }\r\n      }\r\n    `,\r\n    variables: { skip, limit },\r\n  });\r\n  client.resetStore();\r\n  return res.data.getAllCars;\r\n};\r\nexport const getCarsId = async () => {\r\n  const res = await client.query({\r\n    query: gql`\r\n      query {\r\n        getAllCars {\r\n          cars {\r\n            _id\r\n          }\r\n        }\r\n      }\r\n    `,\r\n    fetchPolicy: 'no-cache',\r\n  });\r\n  client.resetStore();\r\n  return res.data.getAllCars.cars;\r\n};\r\nexport const getCarById = async (id) => {\r\n  const res = await client.query({\r\n    query: gql`\r\n      query($id: ID!) {\r\n        getCarById(id: $id) {\r\n          _id\r\n          brand\r\n          model\r\n          category\r\n          date\r\n          price\r\n          year\r\n          mileage\r\n          transmission\r\n          externalColor\r\n          photo\r\n          engine\r\n          colorSimpleName\r\n          description\r\n        }\r\n      }\r\n    `,\r\n    variables: { id },\r\n  });\r\n\r\n  return res.data.getCarById;\r\n};\r\n\r\nexport const addCar = async (car) => {\r\n  car.price = +car.price;\r\n  car.year = +car.year;\r\n  car.mileage = +car.mileage;\r\n  const res = await client.mutate({\r\n    mutation: gql`\r\n      mutation($car: CarInput!) {\r\n        addCar(car: $car) {\r\n          _id\r\n        }\r\n      }\r\n    `,\r\n    variables: { car },\r\n  });\r\n\r\n  return res.data.addCar;\r\n};\r\n\r\nexport const updateCar = async ({ id, car }) => {\r\n  car.price = +car.price;\r\n  car.year = +car.year;\r\n  car.mileage = +car.mileage;\r\n\r\n  const res = await client.mutate({\r\n    mutation: gql`\r\n      mutation($id: ID!, $car: CarInput!) {\r\n        updateCar(id: $id, car: $car) {\r\n          _id\r\n        }\r\n      }\r\n    `,\r\n    variables: {\r\n      id,\r\n      car,\r\n    },\r\n  });\r\n\r\n  return res.data.updateCar;\r\n};\r\nexport const deleteCar = async (id) => {\r\n  const res = await client.mutate({\r\n    mutation: gql`\r\n      mutation($id: ID!) {\r\n        deleteCar(id: $id) {\r\n          _id\r\n        }\r\n      }\r\n    `,\r\n    variables: { id },\r\n  });\r\n\r\n  return res.data.deleteCar;\r\n};\r\n\r\nexport const getFilteredCars = async (filter, skip, limit) => {\r\n  const res = await client.query({\r\n    query: gql`\r\n      query($filter: FilterInput, $skip: Int, $limit: Int) {\r\n        getFilteredCars(filter: $filter, skip: $skip, limit: $limit) {\r\n          cars {\r\n            _id\r\n            brand\r\n            model\r\n            photo\r\n            price\r\n            year\r\n            mileage\r\n          }\r\n          count\r\n        }\r\n      }\r\n    `,\r\n    variables: { filter, skip, limit },\r\n  });\r\n\r\n  return {\r\n    cars: res.data.getFilteredCars.cars,\r\n    count: res.data.getFilteredCars.count,\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}