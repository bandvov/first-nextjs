{"ast":null,"code":"import { useRouter } from 'next/router';\nexport const helper = (state = {}, send) => {\n  const router = useRouter();\n\n  const fetchData = () => {\n    send({\n      type: 'SET_LOADING',\n      loading: true\n    });\n    const filter = {};\n\n    if (state.context.filter.minYear) {\n      filter.minYear = state.context.filter.minYear;\n    }\n\n    if (state.context.filter.maxYear) {\n      filter.maxYear = state.context.filter.maxYear;\n    }\n\n    if (state.context.filter.minPrice) {\n      filter.minPrice = state.context.filter.minPrice;\n    }\n\n    if (state.context.filter.maxPrice) {\n      filter.maxPrice = state.context.filter.maxPrice;\n    }\n\n    if (state.context.filter.brand) {\n      filter.brand = state.context.filter.brand;\n    }\n\n    if (state.context.filter.color) {\n      filter.color = state.context.filter.color;\n    }\n\n    if (state.context.filter.searchText) {\n      filter.searchText = state.context.filter.searchText;\n    }\n\n    if (state.context.currentPage) {\n      filter.page = state.context.currentPage;\n    }\n\n    router.push({\n      pathname: '/search',\n      query: filter\n    });\n    window.scrollTo(0, 0);\n  };\n\n  const changeHandler = (e, filter) => {\n    send({\n      type: `ADD_${filter.toUpperCase()}`,\n      [filter]: e.target.value\n    });\n    send({\n      type: 'SET_CURRENT_PAGE',\n      currentPage: 1\n    });\n    fetchData();\n  };\n\n  return {\n    changeHandler,\n    fetchData\n  };\n};","map":null,"metadata":{},"sourceType":"module"}