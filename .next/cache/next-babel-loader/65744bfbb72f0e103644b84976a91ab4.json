{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport { useContext, useEffect } from 'react';\nimport Router from 'next/router';\nimport Link from 'next/link';\nimport Typography from '@material-ui/core/Typography';\nimport { useStyles } from './car-details.styles';\nimport { MainContext } from '../../context/mainContext';\nimport { deleteCar } from '../../operations/car-operations';\nimport CustomCircularProgress from '../circularProgress/circularProgress';\nexport default function CarDetails(_ref) {\n  var car = _ref.car;\n\n  var photo = car.photo,\n      _id = car._id,\n      carDetails = _objectWithoutProperties(car, [\"photo\", \"_id\"]);\n\n  var classes = useStyles();\n\n  var _useContext = useContext(MainContext),\n      state = _useContext.state,\n      send = _useContext.send;\n\n  useEffect(function () {\n    send({\n      type: 'SET_LOADING',\n      loading: false\n    });\n  }, [car]);\n\n  var deleteHandler = function deleteHandler() {\n    send({\n      type: 'SHOW',\n      text: 'Are you sure you want to delete the car?',\n      handler: function handler() {\n        return deleteCar(_id);\n      },\n      push: function push() {\n        return Router.push('/');\n      }\n    });\n  };\n\n  var carEntries = Object.entries(carDetails);\n  var mappedCarDetails = carEntries.map(function (detail) {\n    return /*#__PURE__*/_jsx(\"li\", {\n      children: /*#__PURE__*/_jsxs(Typography, {\n        gutterBottom: true,\n        variant: \"subtitle1\",\n        children: [/*#__PURE__*/_jsxs(\"b\", {\n          children: [detail[0], \": \"]\n        }), detail[1]]\n      })\n    }, detail);\n  });\n  return state.context.loading ? /*#__PURE__*/_jsx(CustomCircularProgress, {}) : /*#__PURE__*/_jsxs(Paper, {\n    elevation: 10,\n    className: classes.root,\n    children: [/*#__PURE__*/_jsx(Typography, {\n      className: classes.image,\n      children: /*#__PURE__*/_jsx(\"img\", {\n        alt: \"\".concat(carDetails.brand, \" \").concat(carDetails.model, \" \").concat(carDetails.year),\n        className: classes.img,\n        src: photo\n      })\n    }), /*#__PURE__*/_jsxs(Typography, {\n      component: \"div\",\n      className: classes.text,\n      children: [/*#__PURE__*/_jsx(Typography, {\n        children: mappedCarDetails\n      }), /*#__PURE__*/_jsxs(Typography, {\n        className: classes.deleteButton,\n        children: [/*#__PURE__*/_jsx(Link, {\n          href: \"/car/edit/\".concat(_id),\n          children: /*#__PURE__*/_jsx(Button, {\n            \"aria-label\": \"edit car\",\n            variant: \"outlined\",\n            children: \"edit\"\n          })\n        }), /*#__PURE__*/_jsx(Button, {\n          \"aria-label\": \"delete car\",\n          type: \"button\",\n          onClick: deleteHandler,\n          variant: \"contained\",\n          children: \"delete\"\n        })]\n      })]\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}